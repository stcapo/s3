# 🧪 前端功能测试指南

## 环境准备

```bash
# 启动 Docker 容器
docker-compose up -d

# 重置系统数据
curl -X POST http://localhost:8001/api/admin/reset

# 访问前端
http://localhost:5174
```

## 测试场景

### 场景 1: 用户注册
**步骤**:
1. 访问 http://localhost:5174
2. 点击"立即注册"
3. 填写表单:
   - 用户名: testuser
   - 姓名: 测试用户
   - 邮箱: test@example.com
   - 密码: 123456
   - 确认密码: 123456
4. 点击"注册"

**预期结果**: 
- ✅ 注册成功
- ✅ 自动登录
- ✅ 进入活动列表页面

---

### 场景 2: 用户登录
**步骤**:
1. 访问 http://localhost:5174
2. 输入用户名: zhangsan
3. 输入密码: 123456
4. 点击"登录"

**预期结果**:
- ✅ 登录成功
- ✅ 显示用户名 "张三"
- ✅ 进入活动列表

---

### 场景 3: 收藏活动
**步骤**:
1. 登录系统
2. 点击任意活动进入详情页
3. 点击"🤍 收藏"按钮
4. 导航栏 → ❤️ 收藏

**预期结果**:
- ✅ 按钮变为"❤️ 已收藏"
- ✅ 收藏页面显示该活动
- ✅ 可点击"取消收藏"移除

---

### 场景 4: 查看和添加评价
**步骤**:
1. 登录系统
2. 进入活动详情页
3. 向下滚动到"💬 用户评价"区域
4. 选择5星评分
5. 输入评价内容
6. 点击"提交评价"

**预期结果**:
- ✅ 评价提交成功
- ✅ 评价显示在列表中
- ✅ 平均评分更新

---

### 场景 5: 使用优惠券购票
**步骤**:
1. 登录系统
2. 进入活动详情页
3. 选择2个座位
4. 点击"去结算"
5. 在结算页面输入优惠券: WELCOME10
6. 点击"验证"
7. 查看优惠结果
8. 点击"确认支付"

**预期结果**:
- ✅ 优惠券验证成功
- ✅ 显示优惠金额
- ✅ 最终价格正确计算
- ✅ 支付成功

---

### 场景 6: 修改个人资料
**步骤**:
1. 登录系统
2. 导航栏 → 👤 用户名
3. 点击"基本信息"标签
4. 修改姓名: "新名字"
5. 修改邮箱: "newemail@test.com"
6. 点击"保存更改"

**预期结果**:
- ✅ 资料更新成功
- ✅ 显示成功提示
- ✅ 导航栏显示新名字

---

### 场景 7: 修改密码
**步骤**:
1. 登录系统
2. 导航栏 → 👤 用户名
3. 点击"修改密码"标签
4. 输入当前密码: 123456
5. 输入新密码: newpass123
6. 确认新密码: newpass123
7. 点击"修改密码"

**预期结果**:
- ✅ 密码修改成功
- ✅ 显示成功提示
- ✅ 下次登录使用新密码

---

### 场景 8: 取消订单
**步骤**:
1. 登录系统
2. 导航栏 → 我的订单
3. 找到已完成的订单
4. 点击"取消订单"
5. 确认取消

**预期结果**:
- ✅ 订单状态变为"已取消"
- ✅ 显示退款金额
- ✅ 订单卡片显示半透明

---

### 场景 9: 查看优惠券
**步骤**:
1. 登录系统
2. 导航栏 → 🎟️ 优惠券
3. 查看优惠券列表
4. 在右侧面板输入优惠券代码: SAVE50
5. 输入订单金额: 600
6. 点击"验证"

**预期结果**:
- ✅ 显示所有可用优惠券
- ✅ 优惠券信息完整
- ✅ 验证结果正确显示

---

### 场景 10: 完整购票流程
**步骤**:
1. 登录系统
2. 浏览活动列表
3. 进入活动详情
4. 收藏活动
5. 添加评价
6. 选择座位
7. 进入结算
8. 使用优惠券
9. 支付
10. 查看订单

**预期结果**:
- ✅ 所有步骤顺利完成
- ✅ 订单显示在"我的订单"
- ✅ 优惠券已应用
- ✅ 评价显示在活动页面

---

## 错误处理测试

### 测试 1: 重复用户名注册
- 输入已存在的用户名
- **预期**: 显示"用户名已存在"错误

### 测试 2: 密码不匹配
- 输入不同的密码和确认密码
- **预期**: 显示"两次输入的密码不一致"错误

### 测试 3: 无效优惠券
- 输入不存在的优惠券代码
- **预期**: 显示"优惠券不存在或已失效"错误

### 测试 4: 未购票用户评价
- 使用未购票的账号尝试评价
- **预期**: 显示"只有购票用户才能评价"错误

---

## 性能检查

- [ ] 页面加载时间 < 2秒
- [ ] 图片加载正常
- [ ] 表单提交响应快速
- [ ] 列表滚动流畅
- [ ] 没有控制台错误

---

## 浏览器兼容性

测试浏览器:
- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

---

## 移动端测试

- [ ] 响应式布局正常
- [ ] 触摸操作流畅
- [ ] 表单输入正常
- [ ] 按钮可点击

